{% autoescape None %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="static/icons/192.png">
    <!-- ios -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="apple-touch-icon" href="static/icons/80.png">
    <link rel="apple-touch-icon" sizes="152x152" href="static/icons/152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="static/icons/180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="static/icons/167.png">

    <link href="static/favicon.ico" rel="shortcut icon">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">

    <style>
        
    </style>

    <title>Wavemeter</title>
</head>
<body>
    <nav>
        <div class="nav-buttons">
            <a href="/wave" id="nm-btn">nm</a>
        </div>
        <div class="nav-buttons">
            <a href="/" id="">Wavemeter Home</a>
        </div>
        <div class="nav-buttons">
            <a href="/freq" id="ghz-btn">GHz</a>
        </div>

    </nav>

    <div class="container" id="channels">
        {% for channel in channels %}
        <div id="container{{ channel["i"] }}", style="background-color: {{ channel["background"] }}; ">
            <div class="label">{{ channel["label"] }}:</div>
                        <!-- The 'id' is dynamically created for each channel so we can target it in JS -->
            <div id="wl{{ channel["i"] }}" class="data">Loading...</div>
        </div>
        {% endfor %}
    </div>

    <div class="btn-group-toggle" data-toggle="buttons" style="margin-top: 20px; text-align: center;">
        {% for channel in channels %}
        <label class="btn btn-secondary active">
            <input type="checkbox" autocomplete="off" id="toggle-channel{{ channel["i"] }}" data-channel="{{ channel["i"] }}" checked> {{ channel["label"] }}
        </label>
        {% endfor %}
    </div>

    <div id="modal">
        <div>
            <h1>Disconnected</h1>
            <p>Trying to reconnect...</p>
        </div>
    </div>

    <!-- Load dependencies -->
    <script src="/static/scripts/jquery-3.6.0.min.js"></script>
    <script src="/static/scripts/d3.v4.min.js"></script>
    <script src="/static/scripts/socket.io.min.js"></script>
    <!-- Dynamically choose between frequencies or wavelengths -->
    
    <script>
        var precision = {{ precision }};  // Number of digits from server
        var channels = {{ channels }};
        // Set the data variable dynamically
        {% if frequencies %}
            var data = {{ frequencies }};
            var isWavelengthsPage = false;
        {% elif wavelengths %}
            var data = {{ wavelengths }};
            var isWavelengthsPage = true;
        {% else %}
            var data = [];
            var isWavelengthsPage = false;
        {% endif %}
    </script>

    <script src="/static/app.js"></script>
    <script src="/static/scripts/utils.js"></script>
</body>
</html>
{% endautoescape %}